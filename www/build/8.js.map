{"version":3,"sources":["../../src/pages/personal/signup/signup.module.ts","../../src/pages/personal/signup/signup.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { SignupPage } from './signup';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\n@NgModule({\r\n\tdeclarations: [\r\n\t\tSignupPage\r\n\t],\r\n\timports: [\r\n\t\tIonicPageModule.forChild(SignupPage),\r\n\t\tTranslateModule.forChild()\r\n\t]\r\n})\r\nexport class SignupPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/personal/signup/signup.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController } from 'ionic-angular';\nimport { APIService } from '../../../services/api_service';\nimport { UtilService } from '../../../services/util_service';\nimport { FormBuilder, FormGroup, Validators } from \"@angular/forms\";\nimport { TabsPage } from \"../../tabs/tabs\";\nimport { PushService } from '../../../services/push_service';\nimport { Storage } from '@ionic/storage';\nimport { TranslateService } from '@ngx-translate/core';\n\n/**\n * Signup page component\n */\n@IonicPage()\n@Component({\n\tselector: 'page-signup',\n\ttemplateUrl: 'signup.html'\n})\nexport class SignupPage {\n\tpublic loginForm: FormGroup;\n\tpublic active: boolean;\n\tpublic multipleCities = false;\n\tpublic cities:any[] = [];\n\n\tconstructor(\n\t\tprivate apiService: APIService,\n\t\tprivate nav: NavController,\n\t\tprivate builder: FormBuilder,\n\t\tprivate util: UtilService,\n\t\tprivate push: PushService,\n\t\tprivate storage: Storage,\n\t\tprivate translate: TranslateService\n\t) {\n\t\tthis.active = true;\n\t\tconst fields = {\n\t\t\tname: ['', Validators.required],\n\t\t\tphone: [''],\n\t\t\temail: ['', [Validators.required, Validators.email]],\n\t\t\tpassword: ['', Validators.required]\n\t\t};\n\t\tthis.multipleCities = (this.apiService.getSettings().multiple_cities == 1);\n\t\tif (this.multipleCities) {\n\t\t\tfields['city_id'] = [null, Validators.required];\n\t\t\tthis.cities = this.apiService.getCities();\n\t\t}\n\t\tthis.loginForm = this.builder.group(fields);\n\t}\n\n\tdoSignup() {\n\t\tthis.util.showLoader();\n\t\tlet data = JSON.parse(JSON.stringify(this.loginForm.value));\n\t\tthis.apiService.signup(data).then(response => {\n\t\t\tthis.util.hideLoader();\n\t\t\tif (response.success) {\n\t\t\t\tthis.push.init(this.apiService.getSettings().pushwoosh_id);\n\t\t\t\tthis.storage.set('welcomeShown', '1').then(() => {}, () => {});\n\t\t\t\tthis.nav.setRoot(TabsPage);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.util.alert(response.errors, '');\n\t\t\t}\n\t\t}, (data) => {\n\t\t\tthis.util.hideLoader();\n\t\t\tthis.util.alert(this.translate.instant('signup.error'), '');\n\t\t});\n\t}\n\n\tlogin() {\n\t\tthis.nav.setRoot('LoginPage');\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/personal/signup/signup.ts"],"sourceRoot":""}